# DNS (Domain Name System)
- 네트워크에서 도메인이나 호스트 이름을 숫자로 된 IP 주소로 해석해주는 TCP/IP 네트워크 서비스
- 이러한 매핑 서비스를 제공함으로써 사용자가 복잡한 숫자 IP 주소를 기억할 필요 없이 쉽게 기억할 수 있는 도메인 이름을 사용하여 웹사이트에 연결할 수 있게 한다.

<br>

---

<br>

# DNS 조회 및 웹페이지 쿼리 과정
1. `사용자 입력`: 사용자가 웹 브라우저에 'example.com'를 입력한다.
2. `DNS 해석기(DNS Resolver)`: 사용자의 컴퓨터가 `DNS 해석기`에게 도메인 이름의 IP 주소를 요청한다.
3. `재귀 쿼리(Recursive Query)`: `DNS 해석기`가 루트 서버에게 'example.com'에 대한 쿼리를 보낸다.
4. `반복 쿼리(Iterative Query)`: 루트 서버는 'example.com'의 정보를 알지 못하지만 `최상위 도메인(TLD)` 서버의 주소를 반환한다.
5. `TLD 서버 쿼리`: `DNS 해석기`가 `TLD 서버`에게 'example.com'에 대한 쿼리를 보낸다.
6. `권한 있는 서버 응답(Authoritative Server)`: `TLD 서버`는 'example.com' 도메인의 권한 있는 DNS 서버의 주소를 반환한다.
7. `권한 있는 DNS 서버 쿼리`: `DNS 해석기`는 권한 있는 DNS 서버에게 최종적으로 'example.com'의 IP 주소를 요청한다.
8. `최종 응답`: 권한 있는 DNS 서버는 'example.com'의 IP 주소를 반환한다.
9. `웹 서버 접속`: `DNS 해석기`는 IP 주소를 사용자에게 반환하며, 사용자는 해당 IP 주소를 통해 웹 서버에 접속하여 'example.com' 웹 페이지를 로드한다.

<br>

- `DNS 해석기(**DNS Resolver)`: 기본적으로는 사용하고 있는 통신사에서 해석기의 역할을 해준다.
- `TLD 서버(**Top Level Domain)`: 국가·지역·단체·기업 등을 나타내는 인터넷 주소 지정 체계의 끝 부분으로, 한국을 `.kr`로 지정한 것처럼 `일반기업(.com)`, `비영리기관(.org)`, `국제기관(.int)` 등 22종을 정해뒀다.
- `재귀 쿼리(Recursive Query)`: 사용자의 요청이 DNS 해석기로 전달된 후, DNS 해석기가 최종 IP 주소를 찾을 때까지 모든 단계를 대신 수행하는 쿼리 방식이다.
- `반복 쿼리(Iterative Query)`: 각 DNS 서버가 다음 서버의 주소를 반환하며, DNS 해석기가 직접 각 서버에 반복적으로 쿼리를 보내 최종 IP 주소를 찾는 방식이다.

<br>

---

<br>

# DNS 레코드
DNS 레코드는 도메인 이름과 관련된 다양한 유형의 데이터를 저장하는 데 사용된다.

- `A 레코드(주소 레코드)`: 도메인 이름을 IPv4 주소에 매핑한다.
- `AAAA 레코드`: 도메인 이름을 IPv6 주소에 매핑한다.
- `CNAME 레코드(정규 이름 레코드)`: 도메인 이름을 다른 도메인 이름에 매핑한다.
- `MX 레코드(메일 교환 레코드)`: 도메인 이름을 메일 서버에 매핑한다.

<br>

---

<br>

# 로드 밸런싱 (Load Balancing)
네트워크 트래픽을 여러 서버로 분산시켜서 시스템의 효율성과 신뢰성을 높이는 기술이며, 주로 웹 서비스나 애플리케이션 서버 등에서 사용된다.

## 장점
1. `고가용성(High Availability)`
    - 단일 서버가 과부하나 장애로 인해 다운되는 것을 방지하고, 시스템의 가용성을 높인다.
    - 하나의 서버가 다운되더라도 다른 서버가 요청을 처리할 수 있도록 하여 서비스의 연속성을 보장한다.

2. `성능 향상(Performance Improvement)`
    - 부하가 여러 서버에 분산되므로 개별 서버의 과부하를 방지하고, 응답 시간을 단축한다.
    - 더 많은 요청을 처리할 수 있게 되어 전체 시스템의 성능이 향상된다.

3. `확장성(Scalability)`
    - 트래픽이 증가할 때 서버를 추가하여 용량을 쉽게 확장할 수 있다.
    - 로드 밸런서가 자동으로 추가된 서버에 트래픽을 분산시킨다.

4. `유연성(flexibility)`
    - 유지보수 작업이나 서버 교체 시에도 서비스 중단 없이 트래픽을 다른 서버로 분산할 수 있다.

<br>

## 동작 원리
1. `클라이언트 요청`: 사용자가 웹 브라우저를 통해 웹사이트에 접근하면, 클라이언트 요청이 로드 밸런서로 전송된다.
2. `트래픽 분산`: 미리 정의된 로드 밸런싱 알고리즘에 따라 요청을 여러 서버 중 하나로 분산시킨다.
3. `서버 응답`: 분산된 요청을 처리한 서버는 결과를 로드 밸런서로 반환하고, 로드 밸런서는 이를 클라이언트에게 전달한다.

<br>

## 구성 요소
- `로드 밸런서`: 클라이언트 요청을 여러 서버에 분산시키는 장치 또는 소프트웨어
- `백엔드 서버`: 로드 밸런서가 트래픽을 분산하는 대상 서버
- `헬스 체크`: 서버의 상태를 모니터링하여 정상 작동 여부를 확인하는 기능으로, 장애가 발생한 서버를 감지하고 트래픽 분산 대상을 조정

<br>

## 종류
- `하드웨어 로드 밸런싱`: 전용 하드웨어 장치를 사용하여 트래픽을 분산하는 방식으로, 높은 성능과 안정성을 제공하지만 비용이 많이 든다.
- `소프트웨어 로드 밸런싱`: 소프트웨어 기반 솔루션을 사용하여 트래픽을 분산하는 방식으로, 비용 효율적이며 유연성이 뛰어나며, 대표적인 소프트웨어 로드 밸런서로는 `Nginx`, `HAProxy` 등이 있다.

<br>

## 방식
1. `라운드 로빈(Round Robin)`: 들어오는 요청을 순차적으로 각 서버에 분배한다.
    - 장점: 구현이 간단하고 설정이 용이하다.
    - 단점: 서버의 부하 상태를 고려하지 않기 때문에 비효율적일 수 있다.

2. `가중치 라운드 로빈(Weight Round Robin)`: 각 서버에 가중치를 부여하여 가중치에 따라 요청을 분배하며, 더 성능 좋은 서버에 더 많은 요청을 보낼 수 있다.
    - 장점: 서버 성능에 따른 부하 분산이 가능하다.
    - 단점: 가중치 설정이 복잡할 수 있다.

3. `최소 연결(Least Connections)`: 현재 연결된 요청 수가 가장 적은 서버에 새 요청을 분배한다.
    - 장점: 서버 부하를 균등하게 유지할 수 있다.
    - 단점: 연결 상태를 지속적으로 모니터링 해야 하기에 약간의 오버헤드가 발생할 수 있다.

4. `IP 해시(IP Hash)`: 클라이언트 IP 주소의 해시 값을 기반으로 특정 서버에 요청을 분배한다.
    - 장점: 세션 지속성을 보장한다.
    - 단점: 특정 서버에 부하가 집중될 수 있다.

5. `URL 해시(URL Hash)`: 클라이언트의 IP 주소나 요청 URL 등을 해시하여 특정 서버에 요청을 분배하며, 주로 세션 유지가 필요한 경우 사용된다.
    - 장점: 캐시 효율성을 높일 수 있다.
    - 단점: 특정 서버에 부하가 집중될 수 있다.

6. `응답 시간 기반(Response Time-Based)`: 각 서버의 응답 시간을 모니터링하여 가장 빠른 응답 시간을 가진 서버로 트래픽을 분산한다.
    - 장점: 최적의 사용자 경험을 제공한다.
    - 단점: 응답 시간을 지속적으로 모니터링 해야 하므로 오버헤드가 발생할 수 있다.

<br>

---

<br>

# CDN(Contents Delivery Network)
전 세계에 분산된 서버 네트워크를 통해 사용자에게 웹 콘텐츠를 빠르고 효율적으로 전달하는 시스템으로 웹 페이지, 이미지, 동영상 등 다양한 종류의 콘텐츠를 제공하는 데 사용된다.

콘텐츠 전송 속도를 높이고, 대역폭 비용을 절감하며, 서버의 부하를 분산시키는 것이 주 목적이다.

## CDN의 필요성
- `속도 향상`: CDN은 사용자의 지리적 위치에 가장 가까운 서버에 콘텐츠를 제공하여 로딩 시간을 단축한다.
- `서버 부하 분산`: 트래픽이 분산되어 원본 서버의 부하가 줄어든다.
- `대역폭 비용 절감`: 캐시된 콘텐츠가 반복적으로 제공되므로 원본 서버에서 발생하는 대역폭 사용량이 줄어든다.
- `가용성 및 안정성 향상`: 분산된 서버 네트워크를 통해 장애 발생 시에도 서비스의 연속성을 보장한다.

<br>

## CDN의 주요 구성 요소
- `에지 서버(Edge Server)`: 사용자의 요청을 처리하고, 자주 요청되는 콘텐츠를 캐싱하여 빠르게 제공하는 서버로, 전 세계 여러 지역에 분산되어 있다.
- `원본 서버(Origin Server)`: 실제 콘텐츠가 저장되어 있는 서버로, 에지 서버가 캐시되지 않은 콘텐츠를 요청할 때 원본 서버에서 데이터를 가져온다.
- `캐싱(Caching)`: 자주 요청되는 콘텐츠를 에지 서버에 저장하여, 원본 서버에 대한 요청 수를 줄이고 응답 시간을 단축하는 기술이다.
- `콘텐츠 분배(Distribution)`: CDN은 콘텐츠를 여러 에지 서버에 분산시켜, 사용자에게 가장 가까운 서버에서 콘텐츠를 제공하도록 한다.

<br>

## CDN의 동작 방식
1. `사용자 요청`: 사용자가 웹 브라우저를 통해 콘텐츠를 요청한다.
2. `DNS 라우팅`: CDN의 DNS 서버가 사용자의 요청을 가장 가까운 에지 서버로 라우팅한다.
3. `에지 서버 응답`: 에지 서버에 캐시된 콘텐츠가 있으면 이를 사용자에게 직접 제공한다.
4. `캐시 미스(Cache Miss)`: 에지 서버에 요청된 콘텐츠가 없으면 원본 서버에 콘텐츠를 요청한다.
5. `콘텐츠 전달`: 원본 서버에서 가져온 콘텐츠를 에지 서버에 캐싱하고, 이를 사용자에게 전달한다.
6. `캐싱 업데이트`: 에지 서버는 새로운 콘텐츠를 캐싱하여 다음 요청에 대비한다.

<br>

## CDN의 효율성 극대화
- `지리적 근접성`: 사용자의 위치와 가장 가까운 에지 서버에서 콘텐츠를 제공하여 네트워크 지연(latency)을 최소화한다.
- `트래픽 분산`: 트래픽을 여러 에지 서버로 분산시켜 원본 서버의 부하를 줄이고, 대규모 트래픽을 효율적으로 처리한다.
- `캐싱`: 자주 요청되는 콘텐츠를 캐싱하여 원본 서버와의 통신을 최소화하고 응답 시간을 단축한다.
- `동적 콘텐츠 처리`: 정적 콘텐츠 뿐만 아니라 동적 콘텐츠도 효율적으로 처리하여, 사용자 맞춤형 웹 페이지와 애플리케이션의 성능을 향상시킨다.

<br>

## CDN의 주요 기술
- `Anycast`: 사용자 요청을 가장 가까운 에지 서버로 라우팅하는 네트워크 라우팅 기술이다.
- `헤더 기반 라우팅`: HTTP 헤더 정보를 분석하여 최적의 에지 서버로 요청을 라우팅한다.
- `지리적 라우팅`: 사용자의 지리적 위치를 기반으로 요청을 가장 가까운 에지 서버로 라우팅한다.
- `프로토콜 최적화`: TCP 및 HTTP/2와 같은 프로토콜 최적화를 통해 데이터 전송 속도를 향상시킨다.

<br>

---

<br>

# Amazon CloudFront
Amazon Web Services(AWS)에서 제공하는 글로벌 콘텐츠 전송 네트워크(CDN) 서비스다.

CloudFront는 전 세계에 분산된 에지 로케이션을 통해 웹 콘텐츠를 빠르고 안전하게 전송하여 사용자 경험을 향상 시키고, 원본 서버의 부하를 줄이며, 네트워크 트래픽을 효율적으로 관리할 수 있게 해준다.

## 주요 기능 및 특징
- `글로벌 분산 네트워크`: 전 세계에 걸쳐 수백 개의 에지 로케이션을 운영하고 있어, 사용자와 가까운 위치에서 콘텐츠를 제공하여 지연 시간을 최소화하고 전송 속도를 극대화하여 사용자는 언제 어디서나 빠르고 안정적인 콘텐츠를 제공받을 수 있다.
- `원본 서버 통합`: S3, EC2, ELB와 같은 AWS 서비스 뿐만 아니라, 사용자 지정 원본 서버를 지원한다.
- `동적 및 정적 콘텐츠 제공`: 동적 콘텐츠(API 응답, HTML 파일)과 정적 콘텐츠(이미지, CSS, 자바스크립트 파일)를 효율적으로 제공할 수 있으며, 동적 콘텐츠는 사용자 요청 시 실시간으로 생성되어 빠르게 전달할 수 있도록 최적화되어 있다.
- `보안 기능`: 다양한 보안 기능을 제공하여 콘텐츠 전송을 안전하게 보호한다.
- `지리적 제약`: 지리적 제약을 설정하여 특정 지역의 사용자에게만 콘텐츠를 제공하거나, 특정 지역의 사용자 접근을 차단할 수 있다.
- `실시간 분석 및 모니터링`: Amazon CloudWatch와 통합되어 실시간으로 트래픽 및 성능 지표를 모니터링할 수 있다.
